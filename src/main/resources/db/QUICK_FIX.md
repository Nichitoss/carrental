# Быстрое исправление проблем

## Проблема 1: Пароль admin не работает

### Решение:
1. Откройте браузер и перейдите на: `http://localhost:8080/api/auth/generate-hash?password=password`
2. Скопируйте полученный хэш
3. Выполните в PostgreSQL:
```sql
UPDATE users SET password = 'СКОПИРОВАННЫЙ_ХЭШ' WHERE username = 'admin';
```

Или проще:
```sql
-- Удалить админа
DELETE FROM users WHERE username = 'admin';

-- Перезапустить приложение
-- DataInitializer создаст админа с паролем из application.yml (admin / admin123)
```

## Проблема 2: Данные не отображаются

### Проверка:
1. Откройте консоль браузера (F12)
2. Перейдите на вкладку Network
3. Обновите страницу dashboard
4. Проверьте запросы:
   - `/api/vehicles` - должен вернуть массив автомобилей
   - `/api/rentals` - должен вернуть массив аренд
   - `/api/payments` - должен вернуть массив платежей

### Если запросы возвращают 401 (Unauthorized):
- Проблема с авторизацией
- Проверьте, что cookies установлены
- Попробуйте выйти и войти заново

### Если запросы возвращают пустые массивы:
- Данные действительно отсутствуют в БД
- Выполните скрипт `recreate_database.sql` для создания тестовых данных

### Если запросы возвращают данные, но не отображаются:
- Откройте консоль браузера (F12) → Console
- Проверьте ошибки JavaScript
- Данные должны быть в формате JSON массива

## Проблема 3: Новый пользователь не видит данные

### Причина:
- CLIENT видит только свои аренды и платежи
- Если пользователь только что зарегистрировался, у него нет аренд

### Решение:
1. Создайте аренду для пользователя через API или БД
2. Или войдите как MANAGER/ADMIN - они видят все данные

## Тестовые данные

После выполнения `recreate_database.sql`:
- **Автомобили:** 5 штук
- **Аренды:** 3 штуки (для client1 и client2)
- **Платежи:** 3 штуки

## Проверка данных в БД

```sql
-- Проверить пользователей
SELECT id, username, email, role_id, is_active FROM users;

-- Проверить автомобили
SELECT id, license_plate, manufacturer, model, status FROM vehicles;

-- Проверить аренды
SELECT id, user_id, vehicle_id, status FROM rentals;

-- Проверить платежи
SELECT id, rental_id, amount, status FROM payments;
```


